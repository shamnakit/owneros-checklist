/* src/styles/globals.css */

/* ต้องอยู่บรรทัดแรก ๆ เสมอ */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   Bizzyztem · Moonship UI — GLOBAL DARK (all pages)
   ========================================================= */

/* ---------- Theme tokens ---------- */
:root {
  --bg-space: #0B0F1A;
  --bg-navy:  #0F1E2E;
  --text-starlight: #E6EDF5;

  /* Category accents */
  --c-strategy: #FFD54A;
  --c-structure: #2DD4BF;
  --c-sop:      #7C3AED;
  --c-hr:       #22C55E;
  --c-finance:  #F59E0B;
  --c-sales:    #FF7A1A;

  /* Mission status */
  --c-go:   #22C55E;
  --c-hold: #F59E0B;
  --c-nogo: #EF4444;
}

/* ---------- Force dark background for the whole app ---------- */
@layer base {
  html, body, #__next {
    min-height: 100vh;
    color: var(--text-starlight);
    background:
      radial-gradient(1200px 800px at 10% 10%, rgba(255,255,255,0.06), transparent 60%),
      radial-gradient(800px 600px at 80% 30%, rgba(255,255,255,0.04), transparent 60%),
      linear-gradient(180deg, var(--bg-space), var(--bg-navy)) !important;
  }

  /* Typography defaults for readability on dark */
  h1 { @apply text-3xl md:text-4xl font-bold; }
  h2 { @apply text-2xl md:text-3xl font-bold; }
  h3 { @apply text-xl font-semibold; }
  h1, h2, h3 { color: #F4F8FF; text-shadow: 0 0 24px rgba(255,255,255,0.06); }
  p, li, dl, dt, dd { color: rgba(230,237,245,0.92); }

  a { color: #91BAFF; }
  a:hover { color: #CFE0FF; text-decoration: underline; }

  hr { border-color: rgba(255,255,255,0.12); }

  /* Tables */
  table { width: 100%; border-collapse: collapse; }
  th, td { padding: .625rem .75rem; border-bottom: 1px solid rgba(255,255,255,0.08); }
  th { color:#EAF2FF; background: rgba(255,255,255,0.04); text-align: left; }
  tbody tr:nth-child(odd) { background: rgba(255,255,255,0.03); }

  /* Form controls */
  input, select, textarea {
    @apply text-sm;
    color: rgba(230,237,245,0.95);
    background-color: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.10);
    border-radius: .5rem;
  }
  input::placeholder, textarea::placeholder { color: #94A3B8; }
  input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: rgba(108,163,255,0.45);
    box-shadow: 0 0 0 3px rgba(108,163,255,0.25);
  }

  /* Code / pre */
  code { background: rgba(255,255,255,0.06); padding: .15rem .35rem; border-radius: .375rem; }
  pre {
    background: rgba(0,0,0,0.35);
    color: #E6EDF5;
    padding: .875rem 1rem;
    border-radius: .75rem;
    border: 1px solid rgba(255,255,255,0.08);
    overflow: auto;
  }
}

/* Helper — use same dark background on sections when needed */
.bg-space {
  background:
    radial-gradient(1200px 800px at 10% 10%, rgba(255,255,255,0.06), transparent 60%),
    radial-gradient(800px 600px at 80% 30%, rgba(255,255,255,0.04), transparent 60%),
    linear-gradient(180deg, var(--bg-space), var(--bg-navy));
}

/* ---------- Components ---------- */
@layer components {
  /* Card base + soft blur */
  .card-moon { @apply rounded-2xl border bg-white/5 backdrop-blur-sm; border-color: rgba(255,255,255,0.10); }

  /* Chips for status */
  .chip { @apply inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-medium; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12); }
  .chip-go   { color: var(--c-go);   border-color: rgba(34,197,94,.40); }
  .chip-hold { color: var(--c-hold); border-color: rgba(245,158,11,.40); }
  .chip-nogo { color: var(--c-nogo); border-color: rgba(239,68,68,.40); }
}

@supports (color: oklab) {
  .chip-go   { border-color: color-mix(in oklab, var(--c-go)   40%, white 60%); }
  .chip-hold { border-color: color-mix(in oklab, var(--c-hold) 40%, white 60%); }
  .chip-nogo { border-color: color-mix(in oklab, var(--c-nogo) 40%, white 60%); }
}

/* Per-category glow */
.glow-strategy { box-shadow: 0 0 0 1px rgba(255,213,74,.25),  0 8px 32px rgba(255,213,74,.15); }
.glow-structure{ box-shadow: 0 0 0 1px rgba(45,212,191,.25),  0 8px 32px rgba(45,212,191,.15); }
.glow-sop      { box-shadow: 0 0 0 1px rgba(124,58,237,.25),  0 8px 32px rgba(124,58,237,.15); }
.glow-hr       { box-shadow: 0 0 0 1px rgba(34,197,94,.25),   0 8px 32px rgba(34,197,94,.15); }
.glow-finance  { box-shadow: 0 0 0 1px rgba(245,158,11,.25),  0 8px 32px rgba(245,158,11,.15); }
.glow-sales    { box-shadow: 0 0 0 1px rgba(255,122,26,.25),  0 8px 32px rgba(255,122,26,.15); }

/* ---------- Global neutralizer & readability pack ---------- */
@layer utilities {
  /* Neutralize light util classes on dark (ไม่จับ bg-white/5) */
  :is(
    [class~="bg-white"],
    [class~="bg-slate-50"],
    [class~="bg-gray-50"],
    [class~="bg-slate-100"],
    [class~="bg-gray-100"]
  ) { background-color: transparent !important; background-image: none !important; }

  :is(
    [class~="text-slate-800"],
    [class~="text-gray-800"],
    [class~="text-slate-700"],
    [class~="text-gray-700"]
  ) { color: var(--text-starlight) !important; }

  :is(
    [class~="border-slate-200"],
    [class~="border-gray-200"],
    [class~="border-slate-300"],
    [class~="border-gray-300"]
  ) { border-color: rgba(255,255,255,0.12) !important; }

  /* Readability tweaks */
  :is([class~="text-slate-500"], [class~="text-gray-500"]) { color: rgba(226,232,240,.72) !important; }
  :is([class~="text-slate-600"], [class~="text-gray-600"]) { color: rgba(226,232,240,.84) !important; }
  :is([class~="text-slate-700"], [class~="text-gray-700"]) { color: rgba(236,242,248,.92) !important; }

  :is(hr, .divide-y > :not([hidden]) ~ :not([hidden])) { border-color: rgba(255,255,255,.12) !important; }
  :is(.shadow-sm, .shadow).border { background: rgba(255,255,255,.04); backdrop-filter: blur(2px); }

  :is([class~="bg-gray-100"], [class~="bg-slate-100"], [class~="bg-gray-50"], [class~="bg-slate-50"]) {
    background-color: rgba(255,255,255,.06) !important;
  }
  [class~="hover:bg-gray-50"]:hover,
  [class~="hover:bg-slate-50"]:hover { background-color: rgba(255,255,255,.08) !important; }

  /* Tables & charts */
  th, td { border-bottom: 1px solid rgba(255,255,255,.10); }
  tbody tr:nth-child(odd) { background: rgba(255,255,255,.03); }
  .recharts-text { fill: rgba(230,237,245,.92); }
  .recharts-cartesian-grid-vertical line,
  .recharts-cartesian-grid-horizontal line,
  .recharts-polar-grid-concentric { stroke: rgba(255,255,255,.10); }
  .recharts-polar-angle-axis-tick-value { fill: rgba(230,237,245,.90); }
  .recharts-tooltip-wrapper .recharts-default-tooltip {
    background: rgba(15,23,42,.85);
    color: var(--text-starlight);
    border: 1px solid rgba(255,255,255,.12);
    border-radius: .5rem;
  }

  ::selection { background: rgba(108,163,255,.25); color: var(--text-starlight); }
}
